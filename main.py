import telebot

# ржЖржкржирж╛рж░ ржмржЯрзЗрж░ ржЯрзЛржХрзЗржи ржПржЦрж╛ржирзЗ ржжрж┐ржи
TOKEN = 'YOUR_BOT_TOKEN_HERE'
# ржЖржкржирж╛рж░ ржирж┐ржЬрзЗрж░ ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржЖржЗржбрж┐ ржПржЦрж╛ржирзЗ ржжрж┐ржи (ржЕрзНржпрж╛ржбржорж┐ржи ржЖржЗржбрж┐)
ADMIN_ID = 8273597769  # ржЖржкржирж╛рж░ ржЖржЗржбрж┐ ржкрзЗрждрзЗ @userinfobot ржП ржорзЗрж╕рзЗржЬ ржжрж┐ржи

bot = telebot.TeleBot(TOKEN)

# ржЗржЙржЬрж╛рж░ ржорзЗрж╕рзЗржЬ ржжрж┐рж▓рзЗ рждрж╛ ржЕрзНржпрж╛ржбржорж┐ржирзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛ
@bot.message_handler(func=lambda message: message.chat.id != ADMIN_ID)
def forward_to_admin(message):
    try:
        # ржЕрзНржпрж╛ржбржорж┐ржиржХрзЗ ржЬрж╛ржирж╛ржирзЛ ржХрзЗ ржорзЗрж╕рзЗржЬ ржжрж┐рзЯрзЗржЫрзЗ
        user_info = f"ЁЯУй ржирждрзБржи ржорзЗрж╕рзЗржЬ!\nЁЯСд ржирж╛ржо: {message.from_user.first_name}\nЁЯЖФ ржЖржЗржбрж┐: {message.chat.id}\n\n"
        
        # ржорзЗрж╕рзЗржЬржЯрж┐ ржЕрзНржпрж╛ржбржорж┐ржиржХрзЗ ржлрж░рзЛрзЯрж╛рж░рзНржб ржХрж░рж╛
        bot.send_message(ADMIN_ID, user_info)
        bot.forward_message(ADMIN_ID, message.chat.id, message.message_id)
        
        # ржЗржЙржЬрж╛рж░ржХрзЗ ржПржХржЯрж┐ ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржкрж╛ржарж╛ржирзЛ
        bot.reply_to(message, "ржЖржкржирж╛рж░ ржорзЗрж╕рзЗржЬржЯрж┐ ржЖржорж╛ржжрзЗрж░ ржЯрж┐ржорзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗред ржжрзЯрж╛ ржХрж░рзЗ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржиред")
    except Exception as e:
        print(f"Error: {e}")

# ржЕрзНржпрж╛ржбржорж┐ржи рж░рж┐ржкрзНрж▓рж╛ржЗ ржжрж┐рж▓рзЗ рждрж╛ ржЗржЙржЬрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛ
@bot.message_handler(func=lambda message: message.chat.id == ADMIN_ID)
def reply_to_user(message):
    # ржЪрзЗржХ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ ржЕрзНржпрж╛ржбржорж┐ржи ржХрзЛржирзЛ ржорзЗрж╕рзЗржЬ 'Reply' ржХрж░рзЗ рж▓рж┐ржЦржЫрзЗ ржХрж┐ ржирж╛
    if message.reply_to_message and message.reply_to_message.forward_from:
        target_user_id = message.reply_to_message.forward_from.id
        try:
            # ржЕрзНржпрж╛ржбржорж┐ржирзЗрж░ ржорзЗрж╕рзЗржЬ ржЗржЙржЬрж╛рж░рзЗрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж╛ржирзЛ
            bot.send_message(target_user_id, f"ЁЯУв ржЕрзНржпрж╛ржбржорж┐ржи ржЙрждрзНрждрж░ ржжрж┐рзЯрзЗржЫрзЗ:\n\n{message.text}")
            bot.send_message(ADMIN_ID, "тЬЕ ржорзЗрж╕рзЗржЬржЯрж┐ рж╕ржлрж▓ржнрж╛ржмрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗред")
        except Exception as e:
            bot.send_message(ADMIN_ID, f"тЭМ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ ржпрж╛рзЯржирж┐ред рж╣рзЯрждрзЛ ржЗржЙржЬрж╛рж░ ржмржЯржЯрж┐ ржмрзНрж▓ржХ ржХрж░рзЗржЫрзЗред\nError: {e}")
    else:
        bot.send_message(ADMIN_ID, "тЪая╕П ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЗржЙржЬрж╛рж░рзЗрж░ ржкрж╛ржарж╛ржирзЛ ржорзЗрж╕рзЗржЬржЯрж┐ 'Reply' ржХрж░рзЗ ржЙрждрзНрждрж░ ржжрж┐ржиред")

print("ржмржЯржЯрж┐ ржЪрж╛рж▓рзБ рж╣рзЯрзЗржЫрзЗ...")
bot.polling(none_stop=True)
        
